<?xml version="1.0" encoding="UTF-8"?>
<svg width="960" height="520" viewBox="0 0 960 520" fill="none" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title{font: 700 18px sans-serif; fill:#111827}
      .label{font: 600 14px sans-serif; fill:#111827}
      .small{font: 500 12px sans-serif; fill:#374151}
      .box{fill:#ffffff; stroke:#374151; stroke-width:2; rx:10; ry:10}
      .arrow{stroke:#4F46E5; stroke-width:2; marker-end:url(#arrowhead)}
      .arrowGray{stroke:#6B7280; stroke-dasharray:4 4; stroke-width:2; marker-end:url(#arrowheadGray)}
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4F46E5" />
    </marker>
    <marker id="arrowheadGray" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6B7280" />
    </marker>
  </defs>

  <text x="30" y="40" class="title">Book Club - Serverless Architecture</text>

  <!-- Client -->
  <rect x="40" y="80" width="180" height="80" class="box"/>
  <text x="60" y="120" class="label">Client (React App)</text>
  <text x="60" y="140" class="small">Browser</text>

  <!-- API Gateway -->
  <rect x="280" y="80" width="200" height="80" class="box"/>
  <text x="300" y="120" class="label">Amazon API Gateway</text>
  <text x="300" y="140" class="small">REST endpoints</text>

  <!-- Lambda -->
  <rect x="540" y="80" width="180" height="80" class="box"/>
  <text x="560" y="120" class="label">AWS Lambda</text>
  <text x="560" y="140" class="small">Business logic</text>

  <!-- DynamoDB -->
  <rect x="780" y="40" width="160" height="80" class="box"/>
  <text x="800" y="80" class="label">Amazon DynamoDB</text>

  <!-- S3 -->
  <rect x="780" y="150" width="160" height="80" class="box"/>
  <text x="820" y="190" class="label">Amazon S3</text>
  
  <!-- Textract -->
  <rect x="540" y="210" width="180" height="80" class="box"/>
  <text x="560" y="250" class="label">Amazon Textract</text>
  <text x="560" y="270" class="small">OCR for book covers</text>

  <!-- Transcribe -->
  <rect x="540" y="310" width="180" height="80" class="box"/>
  <text x="560" y="350" class="label">Amazon Transcribe</text>
  <text x="560" y="370" class="small">Voice search</text>

  <!-- SES Email -->
  <rect x="780" y="260" width="160" height="80" class="box"/>
  <text x="810" y="300" class="label">Amazon SES</text>
  <text x="800" y="318" class="small">Email notifications</text>

  <!-- Flows -->
  <line x1="220" y1="120" x2="280" y2="120" class="arrow"/>
  <text x="230" y="110" class="small">HTTPS</text>

  <line x1="480" y1="120" x2="540" y2="120" class="arrow"/>
  <text x="490" y="110" class="small">Invoke</text>

  <line x1="720" y1="120" x2="780" y2="80" class="arrow"/>
  <text x="730" y="95" class="small">CRUD</text>

  <line x1="720" y1="120" x2="780" y2="190" class="arrow"/>
  <text x="730" y="165" class="small">Upload</text>

  <line x1="630" y1="160" x2="630" y2="210" class="arrowGray"/>
  <text x="640" y="190" class="small">Analyze</text>

  <!-- Lambda to Transcribe (optional) -->
  <line x1="630" y1="160" x2="630" y2="310" class="arrowGray"/>
  <text x="640" y="240" class="small">Transcribe</text>

  <!-- Lambda to SES (email) -->
  <line x1="720" y1="120" x2="780" y2="300" class="arrowGray"/>
  <text x="730" y="210" class="small">Email</text>

  <!-- Notes -->
  <text x="40" y="220" class="small">Flow:</text>
  <text x="40" y="240" class="small">1) Client calls API Gateway</text>
  <text x="40" y="260" class="small">2) API Gateway invokes Lambda</text>
  <text x="40" y="280" class="small">3) Lambda reads/writes to DynamoDB</text>
  <text x="40" y="300" class="small">4) Lambda puts/gets objects from S3</text>
  <text x="40" y="320" class="small">5) Lambda optionally calls Textract for OCR</text>
  <text x="40" y="340" class="small">6) Lambda optionally calls Transcribe for voice search</text>
  <text x="40" y="360" class="small">7) Lambda sends emails via Amazon SES for notifications</text>
</svg>
